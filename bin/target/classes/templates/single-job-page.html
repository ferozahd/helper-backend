<!doctype html>
<html lang="en" ang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">

<head th:replace="common/header :: common-header"></head>


<!-- Wrapper -->

<body id="wrapper">

    <!-- Header Container
================================================== -->
    <header id="header-container" class="fullwidth" th:replace="common/header :: navbar"></header>




    <div class="clearfix"></div>
    <!-- Header Container / End -->



    <!-- Titlebar
================================================== -->
    <div class="single-page-header" data-background-image="images/single-job.jpg">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="single-page-header-inner">
                        <div class="left-side">
                            <div class="header-image"><a href="single-company-profile.html"><img
                                        src="images/company-logo-03a.png" alt=""></a></div>
                            <div class="header-details">

                                <h3
                                    th:text="${user}?'Bonjour  ' + ${#strings.toUpperCase(user.username)} : 'Détail du besoin'">
                                </h3>

                                <h5>About the Employer</h5>
                                <ul>

                                    <i class="icon-material-outline-account-circle"></i>
                                    <li th:text="${postRequest.user.username}"><a href="single-company-profile.html">
                                            King</a></li>



                                    <li th:text="'Date du service: '+ ${postRequest.dateOfWork}"> </li>
                                    <i class="icon-feather-home"></i>
                                    <li th:text="'Superficie: '+ ${postRequest.size} +' m²'"> </li>

                                    <i class="icon-line-awesome-clock-o"></i>
                                    <li th:text="'Durée: '+ ${postRequest.duration} +' h'"> </li>
                                    <i class="icon-material-outline-location-on"></i>
                                    <li th:text="'Localisation: '+ ${postRequest.jobLocation} "> </li>

                                    <li>
                                        <div class="verified-badge-with-title">Verifié</div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="right-side">
                            <div class="salary-box">
                                <div class="salary-type">Budget du service</div>
                                <div class="salary-amount" th:text="${postRequest.budget}+' €'"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Page Content
================================================== -->
    <div class="container">
        <div class="row">

            <!-- Content -->
            <div class="col-xl-8 col-lg-8 content-right-offset">

                <div class="single-page-section">
                    <h3 class="margin-bottom-25">Job Description</h3>
                    <p th:text=" ${postRequest.description} "> >Leverage agile frameworks to provide a robust synopsis
                        for high level overviews. Iterative approaches to corporate strategy foster collaborative
                        thinking to further the overall value proposition. Organically grow the holistic world view of
                        disruptive innovation via workplace diversity and empowerment.</p>

                    <p>Bring to the table win-win survival strategies to ensure proactive domination. At the end of the
                        day, going forward, a new normal that has evolved from generation X is on the runway heading
                        towards a streamlined cloud solution. User generated content in real-time will have multiple
                        touchpoints for offshoring.</p>

                    <p>Capitalize on low hanging fruit to identify a ballpark value added activity to beta test.
                        Override the digital divide with additional clickthroughs from DevOps. Nanotechnology immersion
                        along the information highway will close the loop on focusing solely on the bottom line.</p>
                </div>

                <div class="single-page-section">
                    <h3 class="margin-bottom-30">Location</h3>
                    <div id="single-job-map-container">
                        <div id="singleListingMap" data-latitude="51.507717" data-longitude="-0.131095"
                            data-map-icon="im im-icon-Hamburger"></div>
                        <a href="#" id="streetView">Street View</a>
                    </div>
                </div>

                <div class="single-page-section">
                    <h3 class="margin-bottom-25">Similar Jobs</h3>

                    <!-- Listings Container -->
                    <div class="listings-container grid-layout">

                        <!-- Job Listing -->
                        <a href="#" class="job-listing">

                            <!-- Job Listing Details -->
                            <div class="job-listing-details">
                                <!-- Logo -->
                                <div class="job-listing-company-logo">
                                    <img src="images/company-logo-02.png" alt="">
                                </div>

                                <!-- Details -->
                                <div class="job-listing-description">
                                    <h4 class="job-listing-company">Coffee</h4>
                                    <h3 class="job-listing-title">Barista and Cashier</h3>
                                </div>
                            </div>

                            <!-- Job Listing Footer -->
                            <div class="job-listing-footer">
                                <ul>
                                    <li><i class="icon-material-outline-location-on"></i> San Francisco</li>
                                    <li><i class="icon-material-outline-business-center"></i> Full Time</li>
                                    <li><i class="icon-material-outline-account-balance-wallet"></i> $35000-$38000</li>
                                    <li><i class="icon-material-outline-access-time"></i> 2 days ago</li>
                                </ul>
                            </div>
                        </a>

                        <!-- Job Listing -->
                        <a href="#" class="job-listing">

                            <!-- Job Listing Details -->
                            <div class="job-listing-details">
                                <!-- Logo -->
                                <div class="job-listing-company-logo">
                                    <img src="images/company-logo-03.png" alt="">
                                </div>

                                <!-- Details -->
                                <div class="job-listing-description">
                                    <h4 class="job-listing-company">King <span class="verified-badge"
                                            title="Verified Employer" data-tippy-placement="top"></span></h4>
                                    <h3 class="job-listing-title">Restaurant Manager</h3>
                                </div>
                            </div>

                            <!-- Job Listing Footer -->
                            <div class="job-listing-footer">
                                <ul>
                                    <li><i class="icon-material-outline-location-on"></i> San Francisco</li>
                                    <li><i class="icon-material-outline-business-center"></i> Full Time</li>
                                    <li><i class="icon-material-outline-account-balance-wallet"></i> $35000-$38000</li>
                                    <li><i class="icon-material-outline-access-time"></i> 2 days ago</li>
                                </ul>
                            </div>
                        </a>
                    </div>
                    <!-- Listings Container / End -->

                </div>
            </div>


            <!-- Sidebar -->
            <div class="col-xl-4 col-lg-4">
                <div class="sidebar-container">



                    <a th:if="${postRequest.getUser().getId()}==${user.getId()}" th:href="@{/post/edit}"
                        class="apply-now-button popup-with-zoom-anim">Edit
                        <i class="icon-material-outline-arrow-right-alt"></i>
                    </a>

                    <!-- -->

                    <a th:if="${postRequest.getUser().getId()}!=${user.getId()}" href="#" data-bs-toggle="modal"
                        data-bs-target="#messagetobuyer" class="apply-now-button popup-with-zoom-anim">
                        Contact
                        <i class="icon-material-outline-arrow-right-alt"></i>
                    </a>

                    <!-- Modal start for message -->




                    <div class="modal fade" id="messagetobuyer" tabindex="-1" aria-labelledby="messagepopup"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <form class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="messagepopup">Send message to -> <h4
                                            th:text="${postRequest.getUser().getUsername()}"></h4>
                                    </h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>

                                <h4 id="messageErrorReports"></h4>
                                <div class="modal-body">
                                    <input type="hidden" th:value="${postRequest.getUser().getId()}"
                                        id="destinationId" />
                                    <textarea placeholder="write your message here..." id="messagebody"></textarea>

                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                    <button type="button" onclick="messageSend()" class="btn btn-primary">Send</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    <!-- Modal close here  -->

                    <!-- Sidebar Widget -->
                    <div class="sidebar-widget">
                        <div class="job-overview">
                            <div class="job-overview-headline">Job Summary</div>
                            <div class="job-overview-inner">
                                <ul>
                                    <li>
                                        <i class="icon-material-outline-location-on"></i>
                                        <span>Location</span>
                                        <h5>London, United Kingdom</h5>
                                    </li>
                                    <li>
                                        <i class="icon-material-outline-business-center"></i>
                                        <span>Job Type</span>
                                        <h5>Full Time</h5>
                                    </li>
                                    <li>
                                        <i class="icon-material-outline-local-atm"></i>
                                        <span>Salary</span>
                                        <h5>$35k - $38k</h5>
                                    </li>
                                    <li>
                                        <i class="icon-material-outline-access-time"></i>
                                        <span>Date Posted</span>
                                        <h5>2 days ago</h5>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Sidebar Widget -->
                    <div class="sidebar-widget">
                        <h3>Bookmark or Share</h3>

                        <!-- Bookmark Button -->
                        <button class="bookmark-button margin-bottom-25">
                            <span class="bookmark-icon"></span>
                            <span class="bookmark-text">Bookmark</span>
                            <span class="bookmarked-text">Bookmarked</span>
                        </button>

                        <!-- Copy URL -->
                        <div class="copy-url">
                            <input id="copy-url" type="text" value="" class="with-border">
                            <button class="copy-url-button ripple-effect" data-clipboard-target="#copy-url"
                                title="Copy to Clipboard" data-tippy-placement="top"><i
                                    class="icon-material-outline-file-copy"></i></button>
                        </div>

                        <!-- Share Buttons -->
                        <div class="share-buttons margin-top-25">
                            <div class="share-buttons-trigger"><i class="icon-feather-share-2"></i></div>
                            <div class="share-buttons-content">
                                <span>Interesting? <strong>Share It!</strong></span>
                                <ul class="share-buttons-icons">
                                    <li><a href="#" data-button-color="#3b5998" title="Share on Facebook"
                                            data-tippy-placement="top"><i class="icon-brand-facebook-f"></i></a></li>
                                    <li><a href="#" data-button-color="#1da1f2" title="Share on Twitter"
                                            data-tippy-placement="top"><i class="icon-brand-twitter"></i></a></li>
                                    <li><a href="#" data-button-color="#dd4b39" title="Share on Google Plus"
                                            data-tippy-placement="top"><i class="icon-brand-google-plus-g"></i></a></li>
                                    <li><a href="#" data-button-color="#0077b5" title="Share on LinkedIn"
                                            data-tippy-placement="top"><i class="icon-brand-linkedin-in"></i></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>






    </div>
    <!-- Footer
================================================== -->
    <div id="footer" th:replace="common/header :: footer"></div>


    <!-- Scripts
================================================== -->
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/jquery-migrate-3.3.2.min.js"></script>
    <script src="js/mmenu.min.js"></script>
    <script src="js/simplebar.min.js"></script>
    <script src="js/bootstrap-slider.min.js"></script>
    <script src="js/bootstrap-select.min.js"></script>
    <script src="js/snackbar.js"></script>
    <script src="js/clipboard.min.js"></script>
    <script src="js/counterup.min.js"></script>
    <script src="js/magnific-popup.min.js"></script>
    <script src="js/slick.min.js"></script>
    <script src="js/custom.js"></script>

    <!-- Snackbar // documentation: https://www.polonel.com/snackbar/ -->
    <script>
        // Snackbar for user status switcher
        $('#snackbar-user-status label').click(function () {
            Snackbar.show({
                text: 'Your status has been changed!',
                pos: 'bottom-center',
                showAction: false,
                actionText: "Dismiss",
                duration: 3000,
                textColor: '#fff',
                backgroundColor: '#383838'
            });
        });
    </script>


    <!-- Google Autocomplete -->
    <script>
        function initAutocomplete() {
            var options = {
                types: ['(cities)'],
                // componentRestrictions: {country: "us"}
            };

            var input = document.getElementById('autocomplete-input');
            var autocomplete = new google.maps.places.Autocomplete(input, options);
        }

        // Autocomplete adjustment for homepage
        if ($('.intro-banner-search-form')[0]) {
            setTimeout(function () {
                $(".pac-container").prependTo(".intro-search-field.with-autocomplete");
            }, 300);
        }

    </script>
    <script type="text/javascript">


        function messageSend() {
            if ($("#destinationId").val().length == 0 || $("#messagebody").val().length == 0) {
                $("#messageErrorReports").html("Fill the box first")
                return null
            }
            $("#messageErrorReports").html("")
            $.ajax({
                type: "POST",
                url: "/api/chat/sendmessage",
                data: {
                    destinationId: $("#destinationId").val(),
                    messagebody: $("#messagebody").val()
                },
                success: async function (result) {
                    location.reload();
                    // $("#messagetobuyer").modal('hide');

                    // console.log($(".modal-backdrop"))
                }
            });
        }
    </script>
    <!-- Google API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=&libraries=places&callback=initAutocomplete"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

</body>


</html>